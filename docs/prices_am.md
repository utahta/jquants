# J-Quants API 前場四本値データ項目概要

このドキュメントは、J-Quants APIの前場四本値エンドポイント (`/prices/prices_am`) のレスポンスデータ項目について説明します。

## データ型について
- 日付フィールドは `String` 型で返されます（YYYY-MM-DD形式）
- 価格・数量データは `Number` 型で返されます
- 取引のない銘柄については `Null` が収録されます

## エンドポイント概要

### 前場四本値 (/prices/prices_am)

#### 概要
- **エンドポイント**: `https://api.jquants.com/v1/prices/prices_am`
- **HTTPメソッド**: GET
- **説明**: 前場終了時に、前場の株価データを取得することができます。

#### 本APIの特徴
- **リアルタイム性**: 前場終了後に当日の前場データを即座に取得可能
- **当日限定**: 当日のデータは翌日6:00頃まで取得可能
- **ヒストリカルデータ**: 過去の前場四本値については株価四本値APIを利用

#### 本APIの留意点
- **取引のない銘柄**: 前場の取引高が存在しない（売買されていない）銘柄についての四本値、取引高と売買代金は、Nullが収録されています
- **対象銘柄**: 東証上場銘柄でない銘柄（地方取引所単独上場銘柄）についてはデータの収録対象外となっています
- **データ取得時間**: 当日のデータは翌日6:00頃まで取得可能です
- **ヒストリカルデータ**: ヒストリカルの前場四本値については株価四本値(`/prices/daily_quotes`)をご利用ください

#### リクエストパラメータ

| パラメータ名 | 型 | 必須 | 説明 | 例 |
|------------|-----|------|------|-----|
| code | String | いいえ | 銘柄コード | 27800 or 2780 |
| pagination_key | String | いいえ | 検索の先頭を指定する文字列 | 過去の検索で返却されたpagination_key |

#### 銘柄コード指定時の注意
4桁の銘柄コードを指定した場合は、普通株式と優先株式の両方が上場している銘柄においては普通株式のデータのみが取得されます。

#### パラメータの組み合わせパターン

| code | レスポンスの結果 |
|------|-----------------|
| 指定あり | 指定された銘柄についての前場の株価データ |
| 指定なし | 全上場銘柄について前場の株価データ |

#### リクエストヘッダー

| ヘッダー名 | 型 | 必須 | 説明 |
|----------|-----|------|------|
| Authorization | String | はい | アクセスキー |

#### レスポンスフィールド

##### 基本情報

| フィールド名 | 日本語説明 | 型 | 備考 |
|------------|----------|-----|------|
| Date | 日付 | String | YYYY-MM-DD形式 |
| Code | 銘柄コード | String | |

##### 前場四本値データ

| フィールド名 | 日本語説明 | 型 | 備考 |
|------------|----------|-----|------|
| MorningOpen | 前場始値 | Number | 前場最初の約定価格 |
| MorningHigh | 前場高値 | Number | 前場中の最高約定価格 |
| MorningLow | 前場安値 | Number | 前場中の最低約定価格 |
| MorningClose | 前場終値 | Number | 前場最後の約定価格（前引け） |

##### 前場取引情報

| フィールド名 | 日本語説明 | 型 | 備考 |
|------------|----------|-----|------|
| MorningVolume | 前場売買高 | Number | 前場中の総売買株数 |
| MorningTurnoverValue | 前場取引代金 | Number | 前場中の総取引代金 |

## 東証の取引時間について

### 前場（午前立会）
- **取引時間**: 9:00～11:30
- **データ提供**: 前場終了後（11:30以降）
- **取得期限**: 翌日6:00頃まで

### 後場（午後立会）
- **取引時間**: 12:30～15:00
- **データ提供**: 後場終了後（15:00以降）

## 使用上の注意事項

1. **データ取得タイミング**
   - 前場終了後（11:30以降）にデータが利用可能
   - 当日データは翌日6:00頃まで取得可能

2. **取引のない銘柄**
   - 売買されていない銘柄は四本値・取引高・売買代金がNull
   - ストップ高・ストップ安で売買不成立の場合も同様

3. **ヒストリカルデータ**
   - 過去の前場データは株価四本値APIを利用
   - 当APIは当日の前場データ専用

4. **対象銘柄の制限**
   - 東証上場銘柄のみが対象
   - 地方取引所単独上場銘柄は対象外

## エラーレスポンス

### 210 取得可能時間外または存在しない銘柄コード
```json
{
    "message": "No content due to outside the target time or a stock code does not exist."
}
```

このエラーは以下の場合に発生します：
- 取得可能時間外（前場終了前または翌日6:00以降）
- 存在しない銘柄コードを指定
- 対象外銘柄（地方取引所単独上場等）を指定

## サンプルレスポンス

```json
{
    "prices_am": [
        {
            "Date": "2023-03-20",
            "Code": "39400",
            "MorningOpen": 232.0,
            "MorningHigh": 244.0,
            "MorningLow": 232.0,
            "MorningClose": 240.0,
            "MorningVolume": 52600.0,
            "MorningTurnoverValue": 12518800.0
        }
    ],
    "pagination_key": "value1.value2."
}
```

## 活用例

### 特定銘柄の前場パフォーマンス確認
```
/prices/prices_am?code=39400
```

### 全銘柄の前場動向を取得
```
/prices/prices_am
```

### 前場の値幅・出来高分析
```javascript
// 前場値幅の計算
const morningRange = response.MorningHigh - response.MorningLow;
const morningChangeFromOpen = response.MorningClose - response.MorningOpen;
const morningChangeRate = (morningChangeFromOpen / response.MorningOpen) * 100;
```

### 前場の流動性確認
```javascript
// 前場の売買代金が一定額以上の銘柄をフィルタ
const activeStocks = response.prices_am.filter(stock => 
    stock.MorningTurnoverValue > 100000000  // 1億円以上
);
```

### 前場急騰・急落銘柄の検出
前場の始値と終値の変動率で急激な動きを検出

### リアルタイム監視
前場終了後すぐに前場データを取得し、後場の戦略立案に活用

## 関連情報

このAPIは前場の株価データを提供するものです。関連する他のAPIについては以下を参照してください：
- 株価四本値：`/prices/daily_quotes`（日中全体の四本値データ、ヒストリカルデータ）
- 上場銘柄一覧：`/listed/info`（銘柄の基本情報）
- 売買内訳データ：`/markets/breakdown`（詳細な売買内訳）
- 取引カレンダー：`/markets/trading_calendar`（営業日情報）